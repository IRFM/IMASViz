# IMASViz

**IMASViz** is a visualization tool developed within
**Integrated Modelling Analysis Suite** (**IMAS)** for the purposes of
visualizing static and dynamic IMAS data, stored within IMAS
**Interface Data Structures** (**IDSs**).

## Installing IMASViz from source

IMASViz does not require full instalation. It does however require the
generated IDSDef parser Python files
(generated to
/home/penkod/WORK/git_work/viz/imasviz/VizDataAccess/VizGeneratedCode/).
This can be simply done by running make command from the $VIZ_HOME.

  make

## Running IMASViz from source

The procedure below describes how to run IMASViz from source is decribed below.

### Requirements

The fundamental requirements in order to locally run IMASViz are:

- IMAS
- Python3 and Python libraries:
   - PyQt5
   - pyqtgraph
   - matplotlib
   - Sphinx
   - Sphinx RTD theme
   pip3 install sphinx_rtd_theme

### Obtaining the source code

To obtain the IMASViz code source the next two steps are required:

1. Clone repository from **git.iter.org** (permissions are required!).

[VIS]: <https://git.iter.org/projects/VIS/repos/viz/browse>

Direct link to the **IMASViz** git.iter repository: [VIS].

2. Switch to IMASViz2.0 branch (required if master branch is not updated yet):

        git fetch # optional
        git branch -r # optional
        git checkout viz2.0_develop

### Setting the environment

To set the environment, go to **viz** directory and set **VIZ_HOME**
and **VIZ_PRODUCTION** environment variables by running the next
commands in the terminal:

    cd viz
    # bash
    export VIZ_PRODUCTION=0
    export VIZ_HOME=$PWD
    # csh
    setenv VIZ_PRODUCTION 0
    setenv VIZ_HOME $PWD

Then proceed with the next instructions.

#### GateWay HPC

Load next modules:

    module load cineca
    module load imasenv
    module load itm-gcc/6.1.0
    module load itm-python/3.6
    module load itm-qt/5.8.0
    module load imas-viz

#### ITER HPC

Load next module:

    module load IMAS/3.20.0-3.8.3

### Running IMASViz


To run **IMASViz**, run the next commands in terminal:

    python3 $VIZ_HOME/imasviz/VizGUI/QtVIZ_GUI.py


## IMASViz documentation

**IMASViz documentation** can be generated to multiple formats, e.g. **HTML**, **PDF**...

Powered by StructuredText.

Prerequisites:

- Python3 library Sphinx

        pip3 install sphinx

- Sphinx RTD theme

        pip3 install sphinx_rtd_theme

Then navigate to

    cd $VIZ_HOME/doc

and run

    # for PDF documentation
    module load texlive
    make pdflatex
    xdg-open build/latex/IMASViz.pdf
    # for HTML documentation
    make html
    firefox build/html/index.html